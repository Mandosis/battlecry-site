/*! battlecry-site 2016-05-07 */
var app=angular.module("battlecryApp",["ngRoute","angular-loading-bar"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/app/view/home",controller:"HomeController",controllerAs:"home"}).when("/community",{templateUrl:"/app/view/community",controller:"CommunityController",controllerAs:"community"}).when("/player/:username",{templateUrl:"/app/view/profile",controller:"ProfileController",controllerAs:"profile"}).otherwise({templateUrl:"/app/view/404",controller:"ErrorController",controllerAs:"error"}),b.html5Mode(!0)}]),app.controller("AppController",[function(){}]),app.controller("HomeController",["cfpLoadingBar","$timeout",function(a,b){var c=this;c.startLoad=function(){a.start()},c.completeLoad=function(){a.complete()},c.startLoad(),c.fakeIntro=!0,b(function(){c.completeLoad(),c.fakeIntro=!1},1250)}]),app.controller("ErrorController",["cfpLoadingBar","$timeout",function(a,b){var c=this;c.startLoad=function(){a.start()},c.completeLoad=function(){a.complete()},c.startLoad(),c.fakeIntro=!0,b(function(){c.completeLoad(),c.fakeIntro=!1},1250)}]),app.controller("ProfileController",["$http","cfpLoadingBar","$timeout","ProfileService","$routeParams",function(a,b,c,d,e){var f=this;f.results=d.data,this.message="Hello world",d.profile(e.username),f.startLoad=function(){b.start()},f.completeLoad=function(){b.complete()},f.startLoad(),f.fakeIntro=!0,c(function(){f.completeLoad(),f.fakeIntro=!1},1250)}]),app.factory("ProfileService",["$http",function(a){var b={},c=function(c){a.get("/app/v1/players/"+c).then(function(a){b.account=a.data,console.log("running profile data fetcher")})},d=function(c){a.get("/app/v1/players/"+c+"/stats/overall").then(function(a){b.overall=a.data}),a.get("/app/v1/players/"+c+"/stats/conquest").then(function(a){b.conquest=a.data}),a.get("/app/v1/players/"+c+"/stats/tdm").then(function(a){b.tdm=a.data}),a.get("/app/v1/players/"+c+"/stats/ffa").then(function(a){b.ffa=a.data})};return{data:b,profile:c,stats:d}}]);